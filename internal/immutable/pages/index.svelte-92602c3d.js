import{S as R,i as S,s as I,F as ae,K as z,L as x,p as E,h as b,q as u,b as M,G as le,H as re,I as ue,f as L,t as A,o as X,M as k,u as ee,v as te,J as B,w as ne,n as H,N as C,x as O,e as Y,y as q,z as N,O as K,g as se,C as j,d as oe,P as fe,Q as ce,l as V,m as W,R as J,T as _e}from"../chunks/index-bb752419.js";const D={custom:Symbol("custom data")},P=function(){let s=new Map,e=new ResizeObserver(function(a){for(const l of a)s.get(l.target)(l)}),{observe:t,unobserve:o}=e;return e.observe=(a,l=()=>{})=>{t&&t.call(e,a),s.set(a,l)},e.unobserve=(a,l=()=>{})=>{o&&o.call(e,a),s.delete(a,l)},e}();function F(s={},e={}){for(const[t,o]of Object.entries(e))s[t]===void 0&&(s[t]=o);return s}const me=s=>F(s,{type:"display",x:0,y:0,size:500,min:400,max:1500,increase:100}),pe=s=>F(s,{type:"concept",x:0,y:0,text:"????"}),de=s=>F(s,{type:"connection",x:0,y:0,text:"????",componentA:null,componentB:null});function T(s,e){if(!s.dataset||s.dataset.type)return s;for(let t=s;t!==e&&t!==null;t=t.parentElement){const{dataset:o}=t;if(!!o.type)return t}return null}function he(s,{onBegin:e=()=>!0,onDrag:t=()=>{},onEnd:o=()=>{}}){function a(l){l.preventDefault();const r={node:s};if(!e({event:l,data:r}))return;const i=l.clientX,n=l.clientY;function c(_){const p=_.clientX-i,f=_.clientY-n;t({event:_,dx:p,dy:f,data:r})}function m(_){_.button===l.button&&(o({event:_,data:r}),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",m))}window.addEventListener("mousemove",c),window.addEventListener("mouseup",m)}return s.addEventListener("mousedown",a),{destroy(){s.removeEventListener("mousemove",a)}}}function ge(s,e){function t(o){e({event:o,node:s})}return s.addEventListener("wheel",t),{destroy(){s.removeEventListener("wheel",t)}}}function ye(s){let e,t,o,a;const l=s[3].default,r=ae(l,s,s[2],null);return{c(){e=z("svg"),r&&r.c(),this.h()},l(i){e=x(i,"svg",{preserveAspectRatio:!0,"data-type":!0,class:!0,viewBox:!0});var n=E(e);r&&r.l(n),n.forEach(b),this.h()},h(){u(e,"preserveAspectRatio","xMidYMid meet"),u(e,"data-type",t=s[1].type),u(e,"class","w-full h-full bg-slate-500"),u(e,"viewBox",o=-s[1].x+" "+-s[1].y+" "+s[1].size+" "+s[1].size)},m(i,n){M(i,e,n),r&&r.m(e,null),s[4](e),a=!0},p(i,[n]){r&&r.p&&(!a||n&4)&&le(r,l,i,i[2],a?ue(l,i[2],n,null):re(i[2]),null),(!a||n&2&&t!==(t=i[1].type))&&u(e,"data-type",t),(!a||n&2&&o!==(o=-i[1].x+" "+-i[1].y+" "+i[1].size+" "+i[1].size))&&u(e,"viewBox",o)},i(i){a||(L(r,i),a=!0)},o(i){A(r,i),a=!1},d(i){i&&b(e),r&&r.d(i),s[4](null)}}}function ve(s,e,t){let{$$slots:o={},$$scope:a}=e,{data:l={}}=e,{element:r}=e;X(()=>{t(0,r[D.custom]=l,r)});function i(n){k[n?"unshift":"push"](()=>{r=n,t(0,r)})}return s.$$set=n=>{"data"in n&&t(1,l=n.data),"element"in n&&t(0,r=n.element),"$$scope"in n&&t(2,a=n.$$scope)},[r,l,a,o,i]}class ie extends R{constructor(e){super(),S(this,e,ve,ye,I,{data:1,element:0})}}function be(s){let e,t,o,a,l,r,i,n=s[0].text+"",c,m,_,p;return{c(){e=z("g"),t=z("rect"),i=z("text"),c=ee(n),this.h()},l(f){e=x(f,"g",{"data-type":!0});var d=E(e);t=x(d,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,fill:!0}),E(t).forEach(b),i=x(d,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,fill:!0});var v=E(i);c=te(v,n),v.forEach(b),d.forEach(b),this.h()},h(){u(t,"x",o=s[0].x-$-s[3]/2),u(t,"y",a=s[0].y-$-s[4]/2),u(t,"width",l=s[3]+$*2),u(t,"height",r=s[4]+$*2),u(t,"rx",10),u(t,"fill","black"),u(i,"x",m=s[0].x),u(i,"y",_=s[0].y),u(i,"text-anchor","middle"),u(i,"dominant-baseline","middle"),u(i,"fill","white"),u(e,"data-type",p=s[0].type)},m(f,d){M(f,e,d),B(e,t),B(e,i),B(i,c),s[5](i),s[6](e)},p(f,[d]){d&9&&o!==(o=f[0].x-$-f[3]/2)&&u(t,"x",o),d&17&&a!==(a=f[0].y-$-f[4]/2)&&u(t,"y",a),d&8&&l!==(l=f[3]+$*2)&&u(t,"width",l),d&16&&r!==(r=f[4]+$*2)&&u(t,"height",r),d&1&&n!==(n=f[0].text+"")&&ne(c,n),d&1&&m!==(m=f[0].x)&&u(i,"x",m),d&1&&_!==(_=f[0].y)&&u(i,"y",_),d&1&&p!==(p=f[0].type)&&u(e,"data-type",p)},i:H,o:H,d(f){f&&b(e),s[5](null),s[6](null)}}}let $=8;function we(s,e,t){let{data:o={}}=e,a,l,r=0,i=0;X(()=>(P.observe(l,m=>{const _=m.contentRect;t(3,r=_.width),t(4,i=_.height)}),t(1,a[D.custom]=o,a),()=>{P.unobserve(l)}));function n(m){k[m?"unshift":"push"](()=>{l=m,t(2,l)})}function c(m){k[m?"unshift":"push"](()=>{a=m,t(1,a)})}return s.$$set=m=>{"data"in m&&t(0,o=m.data)},[o,a,l,r,i,n,c]}class Ee extends R{constructor(e){super(),S(this,e,we,be,I,{data:0})}}function ke(s){let e,t,o,a,l,r,i,n,c,m,_,p,f=s[0].text+"",d,v,w,g;return{c(){e=z("g"),t=z("line"),i=z("line"),p=z("text"),d=ee(f),this.h()},l(y){e=x(y,"g",{"data-type":!0});var h=E(e);t=x(h,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),E(t).forEach(b),i=x(h,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),E(i).forEach(b),p=x(h,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,fill:!0});var G=E(p);d=te(G,f),G.forEach(b),h.forEach(b),this.h()},h(){u(t,"x1",o=s[0].componentA.x),u(t,"y1",a=s[0].componentA.y),u(t,"x2",l=s[0].x),u(t,"y2",r=s[0].y),u(t,"stroke","white"),u(i,"x1",n=s[0].componentB.x),u(i,"y1",c=s[0].componentB.y),u(i,"x2",m=s[0].x),u(i,"y2",_=s[0].y),u(i,"stroke","white"),u(p,"x",v=s[0].x),u(p,"y",w=s[0].y),u(p,"text-anchor","middle"),u(p,"dominant-baseline","middle"),u(p,"fill","black"),u(e,"data-type",g=s[0].type)},m(y,h){M(y,e,h),B(e,t),B(e,i),B(e,p),B(p,d),s[2](e)},p(y,[h]){h&1&&o!==(o=y[0].componentA.x)&&u(t,"x1",o),h&1&&a!==(a=y[0].componentA.y)&&u(t,"y1",a),h&1&&l!==(l=y[0].x)&&u(t,"x2",l),h&1&&r!==(r=y[0].y)&&u(t,"y2",r),h&1&&n!==(n=y[0].componentB.x)&&u(i,"x1",n),h&1&&c!==(c=y[0].componentB.y)&&u(i,"y1",c),h&1&&m!==(m=y[0].x)&&u(i,"x2",m),h&1&&_!==(_=y[0].y)&&u(i,"y2",_),h&1&&f!==(f=y[0].text+"")&&ne(d,f),h&1&&v!==(v=y[0].x)&&u(p,"x",v),h&1&&w!==(w=y[0].y)&&u(p,"y",w),h&1&&g!==(g=y[0].type)&&u(e,"data-type",g)},i:H,o:H,d(y){y&&b(e),s[2](null)}}}function $e(s,e,t){let{data:o={}}=e,a;X(()=>{t(1,a[D.custom]=o,a)});function l(r){k[r?"unshift":"push"](()=>{a=r,t(1,a)})}return s.$$set=r=>{"data"in r&&t(0,o=r.data)},[o,a,l]}class ze extends R{constructor(e){super(),S(this,e,$e,ke,I,{data:0})}}function xe(s){let e,t,o,a;function l(n){s[1](n)}var r=Q[s[0].type];function i(n){let c={};return n[0]!==void 0&&(c.data=n[0]),{props:c}}return r&&(e=new r(i(s)),k.push(()=>C(e,"data",l))),{c(){e&&O(e.$$.fragment),o=Y()},l(n){e&&q(e.$$.fragment,n),o=Y()},m(n,c){e&&N(e,n,c),M(n,o,c),a=!0},p(n,[c]){const m={};if(!t&&c&1&&(t=!0,m.data=n[0],K(()=>t=!1)),r!==(r=Q[n[0].type])){if(e){se();const _=e;A(_.$$.fragment,1,0,()=>{j(_,1)}),oe()}r?(e=new r(i(n)),k.push(()=>C(e,"data",l)),O(e.$$.fragment),L(e.$$.fragment,1),N(e,o.parentNode,o)):e=null}else r&&e.$set(m)},i(n){a||(e&&L(e.$$.fragment,n),a=!0)},o(n){e&&A(e.$$.fragment,n),a=!1},d(n){n&&b(o),e&&j(e,n)}}}const Q={display:ie,concept:Ee,connection:ze};function Be(s,e,t){let{data:o={}}=e;function a(l){o=l,t(0,o)}return s.$$set=l=>{"data"in l&&t(0,o=l.data)},[o,a]}class Le extends R{constructor(e){super(),S(this,e,Be,xe,I,{data:0})}}function U(s,e,t){const o=s.slice();return o[2]=e[t],o[3]=e,o[4]=t,o}function Z(s,e){let t,o,a,l;function r(n){e[1](n,e[2],e[3],e[4])}let i={};return e[2]!==void 0&&(i.data=e[2]),o=new Le({props:i}),k.push(()=>C(o,"data",r)),{key:s,first:null,c(){t=Y(),O(o.$$.fragment),this.h()},l(n){t=Y(),q(o.$$.fragment,n),this.h()},h(){this.first=t},m(n,c){M(n,t,c),N(o,n,c),l=!0},p(n,c){e=n;const m={};!a&&c&1&&(a=!0,m.data=e[2],K(()=>a=!1)),o.$set(m)},i(n){l||(L(o.$$.fragment,n),l=!0)},o(n){A(o.$$.fragment,n),l=!1},d(n){n&&b(t),j(o,n)}}}function Ae(s){let e=[],t=new Map,o,a,l=s[0];const r=i=>i[2];for(let i=0;i<l.length;i+=1){let n=U(s,l,i),c=r(n);t.set(c,e[i]=Z(c,n))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();o=Y()},l(i){for(let n=0;n<e.length;n+=1)e[n].l(i);o=Y()},m(i,n){for(let c=0;c<e.length;c+=1)e[c].m(i,n);M(i,o,n),a=!0},p(i,[n]){n&1&&(l=i[0],se(),e=fe(e,n,r,1,i,l,t,o.parentNode,ce,Z,o,U),oe())},i(i){if(!a){for(let n=0;n<l.length;n+=1)L(e[n]);a=!0}},o(i){for(let n=0;n<e.length;n+=1)A(e[n]);a=!1},d(i){for(let n=0;n<e.length;n+=1)e[n].d(i);i&&b(o)}}}function Me(s,e,t){let{components:o=[]}=e;function a(l,r,i,n){i[n]=l,t(0,o)}return s.$$set=l=>{"components"in l&&t(0,o=l.components)},[o,a]}class De extends R{constructor(e){super(),S(this,e,Me,Ae,I,{components:0})}}function Ce(s){let e,t,o;function a(r){s[7](r)}let l={};return s[0]!==void 0&&(l.components=s[0]),e=new De({props:l}),k.push(()=>C(e,"components",a)),{c(){O(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,i){N(e,r,i),o=!0},p(r,i){const n={};!t&&i&1&&(t=!0,n.components=r[0],K(()=>t=!1)),e.$set(n)},i(r){o||(L(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){j(e,r)}}}function Re(s){let e,t,o,a,l,r,i;function n(_){s[8](_)}function c(_){s[9](_)}let m={$$slots:{default:[Ce]},$$scope:{ctx:s}};return s[2]!==void 0&&(m.element=s[2]),s[1]!==void 0&&(m.data=s[1]),t=new ie({props:m}),k.push(()=>C(t,"element",n)),k.push(()=>C(t,"data",c)),{c(){e=V("div"),O(t.$$.fragment),this.h()},l(_){e=W(_,"DIV",{class:!0});var p=E(e);q(t.$$.fragment,p),p.forEach(b),this.h()},h(){u(e,"class","w-full h-full")},m(_,p){M(_,e,p),N(t,e,null),l=!0,r||(i=[J(ge.call(null,e,s[6])),J(he.call(null,e,{onBegin:s[3],onDrag:s[4],onEnd:s[5]}))],r=!0)},p(_,[p]){const f={};p&1025&&(f.$$scope={dirty:p,ctx:_}),!o&&p&4&&(o=!0,f.element=_[2],K(()=>o=!1)),!a&&p&2&&(a=!0,f.data=_[1],K(()=>a=!1)),t.$set(f)},i(_){l||(L(t.$$.fragment,_),l=!0)},o(_){A(t.$$.fragment,_),l=!1},d(_){_&&b(e),j(t),r=!1,_e(i)}}}function Se(s,e,t){let{components:o=[]}=e,a=me({}),l;function r({event:f,data:d}){const v=T(f.target,d.node);return v===null?!1:(d.closest_begin={element:v,data:v[D.custom],position:{x:v[D.custom].x,y:v[D.custom].y}},!0)}function i({event:f,dx:d,dy:v,data:w}){const{closest_begin:g}=w;if(g.data.x=g.position.x,g.data.y=g.position.y,!f.shiftKey){const y=Math.min(l.clientWidth,l.clientHeight),h=a.size/y;g.data.x+=d*h,g.data.y+=v*h}g.data===a&&t(1,a),t(0,o)}function n({event:f,data:d}){const{closest_begin:v}=d,w=T(f.target,d.node);if(w===null||v===w)return;const g=w[D.custom];g!==a&&f.shiftKey&&t(0,o[o.length]=de({x:(v.data.x+g.x)/2,y:(v.data.y+g.y)/2,componentA:v.data,componentB:g}),o)}function c({event:f,node:d}){if(T(f.target,d)!==l)return;const w=Math.sign(f.deltaY);if(w===0)return;let g=w*a.increase;if(w===-1){const h=a.size+g;h<=a.min&&(g=g-(h-a.min))}else{const h=a.size+g;h>=a.max&&(g=g-(h-a.max))}const y=g/2;t(1,a.size+=g,a),t(1,a.x+=y,a),t(1,a.y+=y,a)}function m(f){o=f,t(0,o)}function _(f){l=f,t(2,l)}function p(f){a=f,t(1,a)}return s.$$set=f=>{"components"in f&&t(0,o=f.components)},[o,a,l,r,i,n,c,m,_,p]}class Ie extends R{constructor(e){super(),S(this,e,Se,Re,I,{components:0})}}function Oe(s){let e,t,o,a,l;function r(n){s[1](n)}let i={};return s[0]!==void 0&&(i.components=s[0]),o=new Ie({props:i}),k.push(()=>C(o,"components",r)),{c(){e=V("main"),t=V("div"),O(o.$$.fragment),this.h()},l(n){e=W(n,"MAIN",{class:!0});var c=E(e);t=W(c,"DIV",{class:!0});var m=E(t);q(o.$$.fragment,m),m.forEach(b),c.forEach(b),this.h()},h(){u(t,"class","w-screen h-screen"),u(e,"class","svelte-17zssja")},m(n,c){M(n,e,c),B(e,t),N(o,t,null),l=!0},p(n,[c]){const m={};!a&&c&1&&(a=!0,m.components=n[0],K(()=>a=!1)),o.$set(m)},i(n){l||(L(o.$$.fragment,n),l=!0)},o(n){A(o.$$.fragment,n),l=!1},d(n){n&&b(e),j(o)}}}function Ye(s,e,t){let o=[];for(let l=0;l<5;l++)o.push(pe({x:100,y:100,text:`Concept-${l}`}));o=o;function a(l){o=l,t(0,o)}return[o,a]}class Ke extends R{constructor(e){super(),S(this,e,Ye,Oe,I,{})}}export{Ke as default};
